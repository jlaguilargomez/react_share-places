(this["webpackJsonpshare-places"]=this["webpackJsonpshare-places"]||[]).push([[0],Array(20).concat([function(e,t,n){},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(7),s=n.n(a),l=(n(30),n(5)),r=n(2),o=(n(31),n(32),n(33),n(0)),d=function(e){var t=e.className,n=e.style,c=e.children;return Object(o.jsx)("div",{className:"card ".concat(t),style:n,children:c})},u=(n(35),function(e){return Object(o.jsx)("div",{className:"avatar ".concat(e.className),style:e.style,children:Object(o.jsx)("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}})})}),j=(n(36),function(e){var t=e.id,n=e.image,c=e.name,i=e.placeCount;return Object(o.jsx)("li",{className:"user-item",children:Object(o.jsx)(d,{className:"user-item__content",children:Object(o.jsxs)(l.b,{to:"/".concat(t,"/places"),children:[Object(o.jsx)("div",{className:"user-item__image",children:Object(o.jsx)(u,{image:n,alt:c})}),Object(o.jsxs)("div",{className:"user-item__info",children:[Object(o.jsx)("h2",{children:c}),Object(o.jsxs)("h3",{children:[i," ",1===i?"Place":"Places"]})]})]})})})}),b=function(e){var t=e.items;return 0===t.length?Object(o.jsx)("div",{className:"center",children:Object(o.jsx)(d,{children:Object(o.jsx)("h2",{children:"No users found"})})}):Object(o.jsx)("ul",{className:"users-list",children:t.map((function(e){return Object(o.jsx)(j,{id:e.id,image:e.image,name:e.name,placeCount:e.places},e.id)}))})},m=function(){return Object(o.jsx)(b,{items:[{id:"u1",name:"Goku",image:"https://media.revistagq.com/photos/5f8959bd54567c4e16ec6a46/master/pass/goku-futbolista.jpg",places:3}]})},h=n(11),p=n(13),O=n(8),x=n(23),f="REQUIRE",v="MINLENGTH",g="MAXLENGTH",N="EMAIL",y=function(){return{type:f}},w=function(e){return{type:v,val:e}},E=function(e,t){var n,c=!0,i=Object(x.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.type===f&&(c=c&&e.trim().length>0),a.type===v&&(c=c&&e.trim().length>=a.val),a.type===g&&(c=c&&e.trim().length<=a.val),"MIN"===a.type&&(c=c&&+e>=a.val),"MAX"===a.type&&(c=c&&+e<=a.val),a.type===N&&(c=c&&/^\S+@\S+\.\S+$/.test(e))}}catch(s){i.e(s)}finally{i.f()}return c},C=(n(42),function(e,t){switch(t.type){case"CHANGE":return Object(O.a)(Object(O.a)({},e),{},{value:t.val,isValid:E(t.val,t.validators)});case"TOUCH":return Object(O.a)(Object(O.a)({},e),{},{isTouched:!0});default:return e}}),_=function(e){var t=e.id,n=e.label,i=e.type,a=e.placeholder,s=e.rows,l=e.element,r=e.errorText,d=e.validators,u=e.onInput,j=e.initialValue,b=e.initialValid,m=Object(c.useReducer)(C,{value:j||"",isTouched:!1,isValid:b||!1}),p=Object(h.a)(m,2),O=p[0],x=p[1],f=O.value,v=O.isValid;Object(c.useEffect)((function(){u(t,O.value,O.isValid)}),[t,u,f,v]);var g=function(e){x({type:"CHANGE",val:e.target.value,validators:d})},N=function(e){x({type:"TOUCH"})},y="input"===l?Object(o.jsx)("input",{id:t,type:i,placeholder:a,onChange:g,onBlur:N,value:O.value}):Object(o.jsx)("textarea",{id:t,rows:s||3,onChange:g,onBlur:N,value:O.value});return Object(o.jsxs)("div",{className:"form-control ".concat(!O.isValid&&O.isTouched&&"form-control--invalid"),children:[Object(o.jsx)("label",{htmlFor:t,children:n}),y,!O.isValid&&O.isTouched&&Object(o.jsx)("p",{children:r})]})},k=(n(43),function(e){return e.href?Object(o.jsx)("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href,children:e.children}):e.to?Object(o.jsx)(l.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),children:e.children}):Object(o.jsx)("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}),S=(n(20),function(e,t){switch(t.type){case"INPUT_CHANGE":var n=!0;for(var c in e.inputs)n=c===t.inputId?n&&t.isValid:n&&e.inputs[c].isValid;return Object(O.a)(Object(O.a)({},e),{},{inputs:Object(O.a)(Object(O.a)({},e.inputs),{},Object(p.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:n});default:return e}}),I=function(){var e=Object(c.useReducer)(S,{inputs:{title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1}},isValid:!1}),t=Object(h.a)(e,2),n=t[0],i=t[1],a=Object(c.useCallback)((function(e,t,n){i({type:"INPUT_CHANGE",value:t,isValid:n,inputId:e})}),[]);return Object(o.jsxs)("form",{className:"place-form",onSubmit:function(e){e.preventDefault(),console.log(n.inputs)},children:[Object(o.jsx)(_,{id:"title",element:"input",type:"text",label:"Title",validators:[y()],errorText:"Enter a valid title",onInput:a}),Object(o.jsx)(_,{id:"description",element:"textarea",label:"Description",validators:[y(),w(5)],errorText:"Please enter a valid description (5 characters, at least)",onInput:a}),Object(o.jsx)(_,{id:"address",element:"input",label:"Address",validators:[y()],errorText:"Please enter a valid address",onInput:a}),Object(o.jsx)(k,{type:"submit",disabled:!n.isValid,children:"ADD PLACE"})]})},A=(n(44),function(e){return Object(o.jsx)("header",{className:"main-header",children:e.children})}),T=(n(45),function(){return Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsx)(l.c,{to:"/",exact:!0,children:"ALL USERS"})}),Object(o.jsx)("li",{children:Object(o.jsx)(l.c,{to:"/u1/places",children:"MY PLACES"})}),Object(o.jsx)("li",{children:Object(o.jsx)(l.c,{to:"/places/new",children:"ADD PLACE"})}),Object(o.jsx)("li",{children:Object(o.jsx)(l.c,{to:"/auth",children:"AUTHENTICATE"})})]})}),V=n(54),U=(n(46),function(e){var t=Object(o.jsx)(V.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0,children:Object(o.jsx)("aside",{className:"side-drawer",onClick:e.onClick,children:e.children})});return s.a.createPortal(t,document.getElementById("drawer-hook"))}),P=(n(47),function(e){return s.a.createPortal(Object(o.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop"))}),L=(n(48),function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],i=t[1];return Object(o.jsxs)(o.Fragment,{children:[n&&Object(o.jsx)(P,{onClick:function(){return i(!1)}}),Object(o.jsx)(U,{show:n,onClick:function(){return i(!1)},children:Object(o.jsx)("nav",{className:"main-navigation__drawer-nav",children:Object(o.jsx)(T,{})})}),")",Object(o.jsxs)(A,{children:[Object(o.jsxs)("button",{className:"main-navigation__menu-btn",onClick:function(){i(!0)},children:[Object(o.jsx)("span",{}),Object(o.jsx)("span",{}),Object(o.jsx)("span",{}),Object(o.jsx)("span",{})]}),Object(o.jsx)("h1",{className:"main-navigation__title",children:Object(o.jsx)(l.b,{to:"/",children:"Your Places"})}),Object(o.jsx)("nav",{className:"main-navigation__header-nav",children:Object(o.jsx)(T,{})})]})]})}),Y=(n(49),function(e){var t=e.className,n=e.style,c=e.headerClass,i=e.header,a=e.onSubmit,l=e.contentClass,r=e.children,d=e.footerClass,u=e.footer,j=Object(o.jsxs)("div",{className:"modal ".concat(t),style:n,children:[Object(o.jsx)("header",{className:"modal__header ".concat(c),children:Object(o.jsx)("h2",{children:i})}),Object(o.jsxs)("form",{onSubmit:a||function(e){return e.preventDefault()},children:[Object(o.jsx)("div",{className:"modal__content ".concat(l),children:r}),Object(o.jsx)("footer",{className:"modal__footer ".concat(d),children:u})]})]});return s.a.createPortal(j,document.getElementById("modal"))}),B=function(e){return Object(o.jsxs)(o.Fragment,{children:[e.show&&Object(o.jsx)(P,{onClick:e.onCancel}),Object(o.jsx)(V.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:Object(o.jsx)(Y,Object(O.a)({},e))})]})},D=(n(50),n(51),function(e){var t=Object(c.useRef)(),n=e.center,i=e.zoom;return Object(c.useEffect)((function(){new window.ol.Map({target:t.current.id,layers:[new window.ol.layer.Tile({source:new window.ol.source.OSM})],view:new window.ol.View({center:window.ol.proj.fromLonLat([n.lng,n.lat]),zoom:i})})}),[n,i]),Object(o.jsx)("div",{ref:t,className:"map ".concat(e.className),style:e.style,id:"map"})}),M=function(e){var t=e.id,n=e.imageUrl,a=e.title,s=e.description,l=e.address,r=(e.creatorId,e.coordinates),u=Object(c.useState)(!1),j=Object(h.a)(u,2),b=j[0],m=j[1],p=function(){return m(!1)};return Object(o.jsxs)(i.a.Fragment,{children:[Object(o.jsx)(B,{show:b,onCancel:p,header:l,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:Object(o.jsx)(k,{onClick:p,children:"CLOSE"}),children:Object(o.jsx)("div",{className:"map-container",children:Object(o.jsx)(D,{center:r,zoom:16})})}),Object(o.jsx)("li",{className:"place-item",children:Object(o.jsxs)(d,{className:"place-item__content",children:[Object(o.jsx)("div",{className:"place-item__image",children:Object(o.jsx)("img",{src:n,alt:a})}),Object(o.jsxs)("div",{className:"place-item__info",children:[Object(o.jsx)("h2",{children:a}),Object(o.jsx)("h3",{children:l}),Object(o.jsx)("p",{children:s})]}),Object(o.jsxs)("div",{className:"place-item__actions",children:[Object(o.jsx)(k,{inverse:!0,onClick:function(){return m(!0)},children:"View on a map"}),Object(o.jsx)(k,{to:"/places/".concat(t),children:"Edit"}),Object(o.jsx)(k,{danger:!0,children:"Delete"})]})]})})]})},H=(n(52),function(e){var t=e.items;return 0===t.length?Object(o.jsx)("div",{className:"place-list center",children:Object(o.jsxs)(d,{children:[Object(o.jsx)("h2",{children:"No places found. Maybe create one?"}),Object(o.jsx)("button",{children:"Share Place"})]})}):Object(o.jsx)("ul",{className:"place-list",children:t.map((function(e){return Object(o.jsx)(M,{id:e.id,imageUrl:e.imageUrl,title:e.title,description:e.description,address:e.address,creatorId:e.creator,coordinates:e.location},e.id)}))})}),F=[{id:"p1",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u1"},{id:"p2",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u2"},{id:"p3",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u1"}],G=function(){var e=Object(r.g)().userId,t=F.filter((function(t){return t.creator===e}));return Object(o.jsx)(H,{items:t})},z=[{id:"p1",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u1"},{id:"p2",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u2"},{id:"p3",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u1"}],R=function(){var e=Object(r.g)().placeId,t=z.find((function(t){return t.id===e}));return console.log("identifiedPlace: ",t),t?Object(o.jsxs)("form",{className:"place-form",children:[Object(o.jsx)(_,{id:"title",element:"input",type:"text",label:"Title",validators:[y()],errorText:"Please enter a valid title.",onInput:function(){},initialValue:t.title,initialValid:!0}),Object(o.jsx)(_,{id:"descriotion",element:"textarea",label:"Description",validators:[w(5)],errorText:"Please enter a valid description (min 5 characters).",onInput:function(){},initialValue:t.description,initialValid:!0}),Object(o.jsx)(k,{type:"submit",disabled:!0,children:"UPDATE PLACE"})]}):Object(o.jsx)("div",{className:"center",children:Object(o.jsx)("h2",{children:"Could not find place!"})})},W=function(){return Object(o.jsxs)(l.a,{children:[Object(o.jsx)(L,{}),Object(o.jsx)("main",{children:Object(o.jsxs)(r.d,{children:[Object(o.jsx)(r.b,{path:"/",exact:!0,component:m}),Object(o.jsx)(r.b,{path:"/places/new",exact:!0,component:I}),Object(o.jsx)(r.b,{path:"/:userId/places",exact:!0,component:G}),Object(o.jsx)(r.b,{path:"/places/:placeId",exact:!0,component:R}),Object(o.jsx)(r.a,{to:"/"})]})})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))};s.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(W,{})}),document.getElementById("root")),J()}]),[[53,1,2]]]);
//# sourceMappingURL=main.cc6bd560.chunk.js.map
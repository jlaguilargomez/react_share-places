(this["webpackJsonpshare-places"]=this["webpackJsonpshare-places"]||[]).push([[0],Array(20).concat([function(e,t,n){},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),a=n(9),s=n.n(a),l=(n(30),n(4)),r=n(7),o=n(2),d=(n(31),n(32),n(33),n(0)),u=function(e){var t=e.className,n=e.style,i=e.children;return Object(d.jsx)("div",{className:"card ".concat(t),style:n,children:i})},j=(n(35),function(e){return Object(d.jsx)("div",{className:"avatar ".concat(e.className),style:e.style,children:Object(d.jsx)("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}})})}),b=(n(36),function(e){var t=e.id,n=e.image,i=e.name,c=e.placeCount;return Object(d.jsx)("li",{className:"user-item",children:Object(d.jsx)(u,{className:"user-item__content",children:Object(d.jsxs)(r.b,{to:"/".concat(t,"/places"),children:[Object(d.jsx)("div",{className:"user-item__image",children:Object(d.jsx)(j,{image:n,alt:i})}),Object(d.jsxs)("div",{className:"user-item__info",children:[Object(d.jsx)("h2",{children:i}),Object(d.jsxs)("h3",{children:[c," ",1===c?"Place":"Places"]})]})]})})})}),p=function(e){var t=e.items;return 0===t.length?Object(d.jsx)("div",{className:"center",children:Object(d.jsx)(u,{children:Object(d.jsx)("h2",{children:"No users found"})})}):Object(d.jsx)("ul",{className:"users-list",children:t.map((function(e){return Object(d.jsx)(b,{id:e.id,image:e.image,name:e.name,placeCount:e.places},e.id)}))})},m=function(){return Object(d.jsx)(p,{items:[{id:"u1",name:"Goku",image:"https://media.revistagq.com/photos/5f8959bd54567c4e16ec6a46/master/pass/goku-futbolista.jpg",places:3}]})},O=n(13),h=n(6),x=function(e,t){switch(t.type){case"INPUT_CHANGE":var n=!0;for(var i in e.inputs)e.inputs[i]&&(n=i===t.inputId?n&&t.isValid:n&&e.inputs[i].isValid);return Object(h.a)(Object(h.a)({},e),{},{inputs:Object(h.a)(Object(h.a)({},e.inputs),{},Object(O.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:n});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},f=function(e,t){var n=Object(i.useReducer)(x,{inputs:e,isValid:t}),c=Object(l.a)(n,2),a=c[0],s=c[1];return[a,Object(i.useCallback)((function(e,t,n){s({type:"INPUT_CHANGE",value:t,isValid:n,inputId:e})}),[]),Object(i.useCallback)((function(e,t){s({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]},v=n(23),g="REQUIRE",N="MINLENGTH",C="MAXLENGTH",y="EMAIL",E=function(){return{type:g}},w=function(e){return{type:N,val:e}},_=function(e,t){var n,i=!0,c=Object(v.a)(t);try{for(c.s();!(n=c.n()).done;){var a=n.value;a.type===g&&(i=i&&e.trim().length>0),a.type===N&&(i=i&&e.trim().length>=a.val),a.type===C&&(i=i&&e.trim().length<=a.val),"MIN"===a.type&&(i=i&&+e>=a.val),"MAX"===a.type&&(i=i&&+e<=a.val),a.type===y&&(i=i&&/^\S+@\S+\.\S+$/.test(e))}}catch(s){c.e(s)}finally{c.f()}return i},I=(n(42),function(e,t){switch(t.type){case"CHANGE":return Object(h.a)(Object(h.a)({},e),{},{value:t.val,isValid:_(t.val,t.validators)});case"TOUCH":return Object(h.a)(Object(h.a)({},e),{},{isTouched:!0});default:return e}}),k=function(e){var t=e.id,n=e.label,c=e.type,a=e.placeholder,s=e.rows,r=e.element,o=e.errorText,u=e.validators,j=e.onInput,b=e.initialValue,p=e.initialValid,m=Object(i.useReducer)(I,{value:b||"",isTouched:!1,isValid:p||!1}),O=Object(l.a)(m,2),h=O[0],x=O[1],f=h.value,v=h.isValid;Object(i.useEffect)((function(){j(t,h.value,h.isValid)}),[t,j,f,v]);var g=function(e){x({type:"CHANGE",val:e.target.value,validators:u})},N=function(e){x({type:"TOUCH"})},C="input"===r?Object(d.jsx)("input",{id:t,type:c,placeholder:a,onChange:g,onBlur:N,value:h.value}):Object(d.jsx)("textarea",{id:t,rows:s||3,onChange:g,onBlur:N,value:h.value});return Object(d.jsxs)("div",{className:"form-control ".concat(!h.isValid&&h.isTouched&&"form-control--invalid"),children:[Object(d.jsx)("label",{htmlFor:t,children:n}),C,!h.isValid&&h.isTouched&&Object(d.jsx)("p",{children:o})]})},V=(n(43),function(e){return e.href?Object(d.jsx)("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href,children:e.children}):e.to?Object(d.jsx)(r.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),children:e.children}):Object(d.jsx)("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}),S=(n(20),function(){var e=f({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1}},!1),t=Object(l.a)(e,2),n=t[0],i=t[1];return Object(d.jsxs)("form",{className:"place-form",onSubmit:function(e){e.preventDefault(),console.log(n.inputs)},children:[Object(d.jsx)(k,{id:"title",element:"input",type:"text",label:"Title",validators:[E()],errorText:"Enter a valid title",onInput:i}),Object(d.jsx)(k,{id:"description",element:"textarea",label:"Description",validators:[E(),w(5)],errorText:"Please enter a valid description (5 characters, at least)",onInput:i}),Object(d.jsx)(k,{id:"address",element:"input",label:"Address",validators:[E()],errorText:"Please enter a valid address",onInput:i}),Object(d.jsx)(V,{type:"submit",disabled:!n.isValid,children:"ADD PLACE"})]})}),T=(n(44),function(e){return Object(d.jsx)("header",{className:"main-header",children:e.children})}),A=Object(i.createContext)({isLoggedIn:!1,login:function(){},logout:function(){}}),P=(n(45),function(){var e=Object(i.useContext)(A);return Object(d.jsxs)("ul",{className:"nav-links",children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.c,{to:"/",exact:!0,children:"ALL USERS"})}),e.isLoggedIn&&Object(d.jsx)("li",{children:Object(d.jsx)(r.c,{to:"/u1/places",children:"MY PLACES"})}),e.isLoggedIn&&Object(d.jsx)("li",{children:Object(d.jsx)(r.c,{to:"/places/new",children:"ADD PLACE"})}),!e.isLoggedIn&&Object(d.jsx)("li",{children:Object(d.jsx)(r.c,{to:"/auth",children:"AUTHENTICATE"})})]})}),L=n(55),U=(n(46),function(e){var t=Object(d.jsx)(L.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0,children:Object(d.jsx)("aside",{className:"side-drawer",onClick:e.onClick,children:e.children})});return s.a.createPortal(t,document.getElementById("drawer-hook"))}),D=(n(47),function(e){return s.a.createPortal(Object(d.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop"))}),Y=(n(48),function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(d.jsxs)(d.Fragment,{children:[n&&Object(d.jsx)(D,{onClick:function(){return c(!1)}}),Object(d.jsx)(U,{show:n,onClick:function(){return c(!1)},children:Object(d.jsx)("nav",{className:"main-navigation__drawer-nav",children:Object(d.jsx)(P,{})})}),")",Object(d.jsxs)(T,{children:[Object(d.jsxs)("button",{className:"main-navigation__menu-btn",onClick:function(){c(!0)},children:[Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{})]}),Object(d.jsx)("h1",{className:"main-navigation__title",children:Object(d.jsx)(r.b,{to:"/",children:"Your Places"})}),Object(d.jsx)("nav",{className:"main-navigation__header-nav",children:Object(d.jsx)(P,{})})]})]})}),B=(n(49),function(e){var t=e.className,n=e.style,i=e.headerClass,c=e.header,a=e.onSubmit,l=e.contentClass,r=e.children,o=e.footerClass,u=e.footer,j=Object(d.jsxs)("div",{className:"modal ".concat(t),style:n,children:[Object(d.jsx)("header",{className:"modal__header ".concat(i),children:Object(d.jsx)("h2",{children:c})}),Object(d.jsxs)("form",{onSubmit:a||function(e){return e.preventDefault()},children:[Object(d.jsx)("div",{className:"modal__content ".concat(l),children:r}),Object(d.jsx)("footer",{className:"modal__footer ".concat(o),children:u})]})]});return s.a.createPortal(j,document.getElementById("modal"))}),G=function(e){return Object(d.jsxs)(d.Fragment,{children:[e.show&&Object(d.jsx)(D,{onClick:e.onCancel}),Object(d.jsx)(L.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:Object(d.jsx)(B,Object(h.a)({},e))})]})},M=(n(50),n(51),function(e){var t=Object(i.useRef)(),n=e.center,c=e.zoom;return Object(i.useEffect)((function(){new window.ol.Map({target:t.current.id,layers:[new window.ol.layer.Tile({source:new window.ol.source.OSM})],view:new window.ol.View({center:window.ol.proj.fromLonLat([n.lng,n.lat]),zoom:c})})}),[n,c]),Object(d.jsx)("div",{ref:t,className:"map ".concat(e.className),style:e.style,id:"map"})}),H=function(e){var t=e.id,n=e.imageUrl,a=e.title,s=e.description,r=e.address,o=(e.creatorId,e.coordinates),j=Object(i.useState)(!1),b=Object(l.a)(j,2),p=b[0],m=b[1],O=Object(i.useState)(!1),h=Object(l.a)(O,2),x=h[0],f=h[1],v=function(){return m(!1)},g=function(){f(!1)};return Object(d.jsxs)(c.a.Fragment,{children:[Object(d.jsx)(G,{show:p,onCancel:v,header:r,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:Object(d.jsx)(V,{onClick:v,children:"CLOSE"}),children:Object(d.jsx)("div",{className:"map-container",children:Object(d.jsx)(M,{center:o,zoom:16})})}),Object(d.jsx)(G,{show:x,onCancel:g,header:"Are you sure?",footerClass:"place-item__modal-actions",footer:Object(d.jsxs)(c.a.Fragment,{children:[Object(d.jsx)(V,{inverse:!0,onClick:g,children:"CANCEL"}),Object(d.jsx)(V,{danger:!0,onClick:function(){f(!1),console.log("DELETING ....")},children:"DELETE"})]}),children:Object(d.jsx)("p",{children:"Do you want to proceed and delete this place?"})}),Object(d.jsx)("li",{className:"place-item",children:Object(d.jsxs)(u,{className:"place-item__content",children:[Object(d.jsx)("div",{className:"place-item__image",children:Object(d.jsx)("img",{src:n,alt:a})}),Object(d.jsxs)("div",{className:"place-item__info",children:[Object(d.jsx)("h2",{children:a}),Object(d.jsx)("h3",{children:r}),Object(d.jsx)("p",{children:s})]}),Object(d.jsxs)("div",{className:"place-item__actions",children:[Object(d.jsx)(V,{inverse:!0,onClick:function(){return m(!0)},children:"View on a map"}),Object(d.jsx)(V,{to:"/places/".concat(t),children:"Edit"}),Object(d.jsx)(V,{danger:!0,onClick:function(){f(!0)},children:"Delete"})]})]})})]})},F=(n(52),function(e){var t=e.items;return 0===t.length?Object(d.jsx)("div",{className:"place-list center",children:Object(d.jsxs)(u,{children:[Object(d.jsx)("h2",{children:"No places found. Maybe create one?"}),Object(d.jsx)(V,{to:"/places/new",children:"Share Place"})]})}):Object(d.jsx)("ul",{className:"place-list",children:t.map((function(e){return Object(d.jsx)(H,{id:e.id,imageUrl:e.imageUrl,title:e.title,description:e.description,address:e.address,creatorId:e.creator,coordinates:e.location},e.id)}))})}),R=[{id:"p1",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u1"},{id:"p2",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u2"},{id:"p3",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u1"}],W=function(){var e=Object(o.g)().userId,t=R.filter((function(t){return t.creator===e}));return Object(d.jsx)(F,{items:t})},z=[{id:"p1",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u1"},{id:"p2",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u2"},{id:"p3",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u1"}],q=function(){var e=Object(i.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(o.g)().placeId,s=f({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),r=Object(l.a)(s,3),j=r[0],b=r[1],p=r[2],m=z.find((function(e){return e.id===a}));Object(i.useEffect)((function(){m&&p({title:{value:m.title,isValid:!0},description:{value:m.description,isValid:!0}},!0),c(!1)}),[p,m]);return m?n?Object(d.jsx)("div",{className:"center",children:Object(d.jsx)("h2",{children:"Loading..."})}):Object(d.jsxs)("form",{className:"place-form",children:[Object(d.jsx)(k,{id:"title",element:"input",type:"text",label:"Title",validators:[E()],errorText:"Please enter a valid title.",onInput:b,initialValue:j.inputs.title.value,initialValid:j.inputs.title.isValid}),Object(d.jsx)(k,{id:"description",element:"textarea",label:"Description",validators:[w(5)],errorText:"Please enter a valid description (min 5 characters).",onInput:b,initialValue:j.inputs.description.value,initialValid:j.inputs.description.isValid}),Object(d.jsx)(V,{type:"submit",disabled:!j.isValid,onClick:function(e){e.preventDefault(),console.log(j.inputs)},children:"UPDATE PLACE"})]}):Object(d.jsx)("div",{className:"center",children:Object(d.jsx)(u,{children:Object(d.jsx)("h2",{children:"Could not find place!"})})})},J=(n(53),function(){var e=Object(i.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],a=f({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),s=Object(l.a)(a,3),r=s[0],o=s[1],j=s[2];return Object(d.jsxs)(u,{className:"authentication",children:[Object(d.jsx)("h2",{children:"Login Required"}),Object(d.jsx)("hr",{}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(r.inputs)},children:[!n&&Object(d.jsx)(k,{element:"input",id:"name",type:"text",label:"Your name",validators:[E()],errorText:"Please enter a name",onInput:o}),Object(d.jsx)(k,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[{type:y}],errorText:"Please enter a valid email address",onInput:o}),Object(d.jsx)(k,{element:"input",id:"password",type:"password",label:"Password",validators:[w(5)],errorText:"Please enter a valid password, at least 5 characters",onInput:o}),Object(d.jsx)(V,{type:"submit",disabled:!r.isValid,children:n?"LOGIN":"SIGNUP"})]}),Object(d.jsxs)(V,{inverse:!0,onClick:function(){n?j(Object(h.a)(Object(h.a)({},r.inputs),{},{name:{value:"",isValid:!1}}),!1):j(Object(h.a)(Object(h.a)({},r.inputs),{},{name:void 0}),r.inputs.email.isValid&&r.inputs.password.isValid),c((function(e){return!e}))},children:["SWITCH TO ",n?"SIGNUP":"LOGIN"]})]})}),X=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(i.useCallback)((function(){c(!0)}),[]),s=Object(i.useCallback)((function(){c(!1)}),[]);return Object(d.jsx)(A.Provider,{value:{isLoggedIn:n,login:a,logout:s},children:Object(d.jsxs)(r.a,{children:[Object(d.jsx)(Y,{}),Object(d.jsx)("main",{children:Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{path:"/",exact:!0,component:m}),Object(d.jsx)(o.b,{path:"/places/new",exact:!0,component:S}),Object(d.jsx)(o.b,{path:"/:userId/places",exact:!0,component:W}),Object(d.jsx)(o.b,{path:"/places/:placeId",exact:!0,component:q}),Object(d.jsx)(o.b,{path:"/auth",exact:!0,component:J}),Object(d.jsx)(o.a,{to:"/"})]})})]})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),c(e),a(e),s(e)}))};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(X,{})}),document.getElementById("root")),Q()}]),[[54,1,2]]]);
//# sourceMappingURL=main.37b6b833.chunk.js.map
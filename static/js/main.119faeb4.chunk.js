(this["webpackJsonpshare-places"]=this["webpackJsonpshare-places"]||[]).push([[0],Array(29).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(7),s=n.n(i),r=(n(29),n(5)),l=n(2),o=(n(30),n(31),n(32),n(0)),d=function(e){var t=e.className,n=e.style,c=e.children;return Object(o.jsx)("div",{className:"card ".concat(t),style:n,children:c})},j=(n(34),function(e){return Object(o.jsx)("div",{className:"avatar ".concat(e.className),style:e.style,children:Object(o.jsx)("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}})})}),u=(n(35),function(e){var t=e.id,n=e.image,c=e.name,a=e.placeCount;return Object(o.jsx)("li",{className:"user-item",children:Object(o.jsx)(d,{className:"user-item__content",children:Object(o.jsxs)(r.b,{to:"/".concat(t,"/places"),children:[Object(o.jsx)("div",{className:"user-item__image",children:Object(o.jsx)(j,{image:n,alt:c})}),Object(o.jsxs)("div",{className:"user-item__info",children:[Object(o.jsx)("h2",{children:c}),Object(o.jsxs)("h3",{children:[a," ",1===a?"Place":"Places"]})]})]})})})}),b=function(e){var t=e.items;return 0===t.length?Object(o.jsx)("div",{className:"center",children:Object(o.jsx)(d,{children:Object(o.jsx)("h2",{children:"No users found"})})}):Object(o.jsx)("ul",{className:"users-list",children:t.map((function(e){return Object(o.jsx)(u,{id:e.id,image:e.image,name:e.name,placeCount:e.places},e.id)}))})},m=function(){return Object(o.jsx)(b,{items:[{id:"u1",name:"Goku",image:"https://media.revistagq.com/photos/5f8959bd54567c4e16ec6a46/master/pass/goku-futbolista.jpg",places:3}]})},h=n(11),O=n(13),p=n(8),x=n(22),f="REQUIRE",v="MINLENGTH",g="MAXLENGTH",N="EMAIL",y=function(){return{type:f}},w=function(e,t){var n,c=!0,a=Object(x.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.type===f&&(c=c&&e.trim().length>0),i.type===v&&(c=c&&e.trim().length>=i.val),i.type===g&&(c=c&&e.trim().length<=i.val),"MIN"===i.type&&(c=c&&+e>=i.val),"MAX"===i.type&&(c=c&&+e<=i.val),i.type===N&&(c=c&&/^\S+@\S+\.\S+$/.test(e))}}catch(s){a.e(s)}finally{a.f()}return c},C=(n(41),function(e,t){switch(t.type){case"CHANGE":return Object(p.a)(Object(p.a)({},e),{},{value:t.val,isValid:w(t.val,t.validators)});case"TOUCH":return Object(p.a)(Object(p.a)({},e),{},{isTouched:!0});default:return e}}),_=function(e){var t=e.id,n=e.label,a=e.type,i=e.placeholder,s=e.rows,r=e.element,l=e.errorText,d=e.validators,j=e.onInput,u=Object(c.useReducer)(C,{value:"",isTouched:!1,isValid:!1}),b=Object(h.a)(u,2),m=b[0],O=b[1],p=m.value,x=m.isValid;Object(c.useEffect)((function(){j(t,m.value,m.isValid)}),[t,j,p,x]);var f=function(e){O({type:"CHANGE",val:e.target.value,validators:d})},v=function(e){O({type:"TOUCH"})},g="input"===r?Object(o.jsx)("input",{id:t,type:a,placeholder:i,onChange:f,onBlur:v,value:m.value}):Object(o.jsx)("textarea",{id:t,rows:s||3,onChange:f,onBlur:v,value:m.value});return Object(o.jsxs)("div",{className:"form-control ".concat(!m.isValid&&m.isTouched&&"form-control--invalid"),children:[Object(o.jsx)("label",{htmlFor:t,children:n}),g,!m.isValid&&m.isTouched&&Object(o.jsx)("p",{children:l})]})},E=(n(42),function(e){return e.href?Object(o.jsx)("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href,children:e.children}):e.to?Object(o.jsx)(r.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),children:e.children}):Object(o.jsx)("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}),k=(n(43),function(e,t){switch(console.log("action: ",t),console.log("state: ",e),t.type){case"INPUT_CHANGE":var n=!0;for(var c in e.inputs)n=c===t.inputId?n&&t.isValid:n&&e.inputs[c].isValid;return Object(p.a)(Object(p.a)({},e),{},{inputs:Object(p.a)(Object(p.a)({},e.inputs),{},Object(O.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:n});default:return e}}),I=function(){var e,t=Object(c.useReducer)(k,{inputs:{title:{value:"",isValid:!1},description:{value:"",isValid:!1}},isValid:!1}),n=Object(h.a)(t,2),a=n[0],i=n[1],s=Object(c.useCallback)((function(e,t,n){i({type:"INPUT_CHANGE",value:t,isValid:n,inputId:e})}),[]);return Object(o.jsxs)("form",{className:"place-form",children:[Object(o.jsx)(_,{id:"title",element:"input",type:"text",label:"Title",validators:[y()],errorText:"Enter a valid title",onInput:s}),Object(o.jsx)(_,{id:"description",element:"textarea",label:"Description",validators:[y(),(e=5,{type:v,val:e})],errorText:"Please enter a valid description (5 characters, at least)",onInput:s}),Object(o.jsx)(E,{type:"submit",disabled:!a.isValid,children:"ADD PLACE"})]})},S=(n(44),function(e){return Object(o.jsx)("header",{className:"main-header",children:e.children})}),T=(n(45),function(){return Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsx)(r.c,{to:"/",exact:!0,children:"ALL USERS"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.c,{to:"/u1/places",children:"MY PLACES"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.c,{to:"/places/new",children:"ADD PLACE"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.c,{to:"/auth",children:"AUTHENTICATE"})})]})}),A=n(54),V=(n(46),function(e){var t=Object(o.jsx)(A.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0,children:Object(o.jsx)("aside",{className:"side-drawer",onClick:e.onClick,children:e.children})});return s.a.createPortal(t,document.getElementById("drawer-hook"))}),U=(n(47),function(e){return s.a.createPortal(Object(o.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop"))}),P=(n(48),function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],a=t[1];return Object(o.jsxs)(o.Fragment,{children:[n&&Object(o.jsx)(U,{onClick:function(){return a(!1)}}),Object(o.jsx)(V,{show:n,onClick:function(){return a(!1)},children:Object(o.jsx)("nav",{className:"main-navigation__drawer-nav",children:Object(o.jsx)(T,{})})}),")",Object(o.jsxs)(S,{children:[Object(o.jsxs)("button",{className:"main-navigation__menu-btn",onClick:function(){a(!0)},children:[Object(o.jsx)("span",{}),Object(o.jsx)("span",{}),Object(o.jsx)("span",{}),Object(o.jsx)("span",{})]}),Object(o.jsx)("h1",{className:"main-navigation__title",children:Object(o.jsx)(r.b,{to:"/",children:"Your Places"})}),Object(o.jsx)("nav",{className:"main-navigation__header-nav",children:Object(o.jsx)(T,{})})]})]})}),L=(n(49),function(e){var t=e.className,n=e.style,c=e.headerClass,a=e.header,i=e.onSubmit,r=e.contentClass,l=e.children,d=e.footerClass,j=e.footer,u=Object(o.jsxs)("div",{className:"modal ".concat(t),style:n,children:[Object(o.jsx)("header",{className:"modal__header ".concat(c),children:Object(o.jsx)("h2",{children:a})}),Object(o.jsxs)("form",{onSubmit:i||function(e){return e.preventDefault()},children:[Object(o.jsx)("div",{className:"modal__content ".concat(r),children:l}),Object(o.jsx)("footer",{className:"modal__footer ".concat(d),children:j})]})]});return s.a.createPortal(u,document.getElementById("modal"))}),B=function(e){return Object(o.jsxs)(o.Fragment,{children:[e.show&&Object(o.jsx)(U,{onClick:e.onCancel}),Object(o.jsx)(A.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:Object(o.jsx)(L,Object(p.a)({},e))})]})},M=(n(50),n(51),function(e){var t=Object(c.useRef)(),n=e.center,a=e.zoom;return Object(c.useEffect)((function(){new window.ol.Map({target:t.current.id,layers:[new window.ol.layer.Tile({source:new window.ol.source.OSM})],view:new window.ol.View({center:window.ol.proj.fromLonLat([n.lng,n.lat]),zoom:a})})}),[n,a]),Object(o.jsx)("div",{ref:t,className:"map ".concat(e.className),style:e.style,id:"map"})}),H=function(e){var t=e.id,n=e.imageUrl,i=e.title,s=e.description,r=e.address,l=(e.creatorId,e.coordinates),j=Object(c.useState)(!1),u=Object(h.a)(j,2),b=u[0],m=u[1],O=function(){return m(!1)};return Object(o.jsxs)(a.a.Fragment,{children:[Object(o.jsx)(B,{show:b,onCancel:O,header:r,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:Object(o.jsx)(E,{onClick:O,children:"CLOSE"}),children:Object(o.jsx)("div",{className:"map-container",children:Object(o.jsx)(M,{center:l,zoom:16})})}),Object(o.jsx)("li",{className:"place-item",children:Object(o.jsxs)(d,{className:"place-item__content",children:[Object(o.jsx)("div",{className:"place-item__image",children:Object(o.jsx)("img",{src:n,alt:i})}),Object(o.jsxs)("div",{className:"place-item__info",children:[Object(o.jsx)("h2",{children:i}),Object(o.jsx)("h3",{children:r}),Object(o.jsx)("p",{children:s})]}),Object(o.jsxs)("div",{className:"place-item__actions",children:[Object(o.jsx)(E,{inverse:!0,onClick:function(){return m(!0)},children:"View on a map"}),Object(o.jsx)(E,{to:"/places/".concat(t),children:"Edit"}),Object(o.jsx)(E,{danger:!0,children:"Delete"})]})]})})]})},D=(n(52),function(e){var t=e.items;return 0===t.length?Object(o.jsx)("div",{className:"place-list center",children:Object(o.jsxs)(d,{children:[Object(o.jsx)("h2",{children:"No places found. Maybe create one?"}),Object(o.jsx)("button",{children:"Share Place"})]})}):Object(o.jsx)("ul",{className:"place-list",children:t.map((function(e){return Object(o.jsx)(H,{id:e.id,imageUrl:e.imageUrl,title:e.title,description:e.description,address:e.address,creatorId:e.creator,coordinates:e.location},e.id)}))})}),F=[{id:"p1",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u1"},{id:"p2",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u2"},{id:"p3",title:"Empire State Building",description:"An skyscrapper",imageUrl:"https://e00-elmundo.uecdn.es/elmundo/imagenes/2013/06/27/suvivienda/1372346464_0.jpg",address:"20 W 34th St, New York, NY 10001, Estados Unidos",location:{lat:40.7484405,lng:-73.9878531},creator:"u1"}],Y=function(){var e=Object(l.g)().userId,t=F.filter((function(t){return t.creator===e}));return Object(o.jsx)(D,{items:t})},G=function(){return Object(o.jsxs)(r.a,{children:[Object(o.jsx)(P,{}),Object(o.jsx)("main",{children:Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{path:"/",exact:!0,component:m}),Object(o.jsx)(l.b,{path:"/places/new",exact:!0,component:I}),Object(o.jsx)(l.b,{path:"/:userId/places",exact:!0,component:Y}),Object(o.jsx)(l.a,{to:"/"})]})})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(G,{})}),document.getElementById("root")),z()}]),[[53,1,2]]]);
//# sourceMappingURL=main.119faeb4.chunk.js.map